#!name=我爱破解签到
#!desc=我爱破解论坛每日签到，支持多账号独立控制和自动获取Cookie
#!author=SXIE-ai
#!icon=https://static.52pojie.cn/static/image/favicon.ico
#!system=iOS,iPadOS,macOS
#!loon_version=3.2.0
#!date=2024-12-20 12:00:00

[Argument]
52pojie_cookie1=textarea, , tag=账号1 Cookie, desc=填写账号1的我爱破解Cookie（自动获取或手动填写）
52pojie_enable1=switch, false, true, tag=启用账号1, desc=启用账号1的签到功能
52pojie_cookie2=textarea, , tag=账号2 Cookie, desc=填写账号2的我爱破解Cookie
52pojie_enable2=switch, false, true, tag=启用账号2, desc=启用账号2的签到功能
52pojie_cookie3=textarea, , tag=账号3 Cookie, desc=填写账号3的我爱破解Cookie
52pojie_enable3=switch, false, true, tag=启用账号3, desc=启用账号3的签到功能
52pojie_cookie4=textarea, , tag=账号4 Cookie, desc=填写账号4的我爱破解Cookie
52pojie_enable4=switch, false, true, tag=启用账号4, desc=启用账号4的签到功能
notify_title=input, 我爱破解签到通知, tag=通知标题, desc=推送通知的标题
test_mode=switch, false, true, tag=测试模式, desc=开启后只模拟请求不实际签到
auto_cookie=switch, true, false, tag=自动获取Cookie, desc=开启后自动捕获我爱破解Cookie（默认开启）
debug_mode=switch, false, true, tag=调试模式, desc=开启调试日志（仅用于排查问题）

[Script]
# 每日自动签到（上午8点30分）
cron "30 8 * * *" script-path=https://raw.githubusercontent.com/SXIE-ai/Loon/main/plugins/52PoJie.plugin/52pojie.js, timeout=60, tag=我爱破解自动签到

# 手动触发签到（仅匹配签到接口，避免干扰正常浏览）
http-request ^https:\/\/www\.52pojie\.cn\/plugin\.php\?id=dsu_paulsign:sign script-path=https://raw.githubusercontent.com/SXIE-ai/Loon/main/plugins/52PoJie.plugin/52pojie.js, timeout=60, tag=我爱破解手动签到, requires-body=true

# Cookie获取脚本（只处理页面请求，不处理资源文件）
#http-request ^https:\/\/www\.52pojie\.cn\/forum\.php script-path=https://raw.githubusercontent.com/SXIE-ai/Loon/main/plugins/52PoJie.plugin/52pojie_cookie.js, timeout=30, tag=我爱破解Cookie获取-论坛页, requires-body=false
#http-request ^https:\/\/www\.52pojie\.cn\/home\.php script-path=https://raw.githubusercontent.com/SXIE-ai/Loon/main/plugins/52PoJie.plugin/52pojie_cookie.js, timeout=30, tag=我爱破解Cookie获取-主页, requires-body=false

[MitM]
# 精确指定需要解密的域名和路径，避免解密所有内容
hostname = www.52pojie.cn, static.52pojie.cn

[Rewrite]
# 暂时移除所有重写规则，避免干扰页面加载
# 如果有需要，后续可以谨慎添加
